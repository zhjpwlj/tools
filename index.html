<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Code & URL Extractor</title>
<style>
  body { font-family: Arial; margin: 20px; }
  textarea { width: 100%; height: 140px; padding: 10px; }
  button { margin-top: 10px; padding: 8px 15px; }
  pre { background: #f3f3f3; padding: 10px; border-radius: 5px; max-height: 200px; overflow-y: auto; }
  .section { margin-top: 30px; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
</style>
</head>
<body>

<h1>Google Classroom Code & URL Extractor</h1>
<p>把长文本贴进去，一键提取班级码 + URL（自动去重）</p>

<!-- ======================= 输入框 ======================= -->
<textarea id="input"></textarea><br>
<button onclick="extractAll()">✨ 提取</button>
<button onclick="clearInput()">清空</button>

<!-- ======================= 班级码结果 ======================= -->
<div class="section">
  <h2>Google Classroom 班级码</h2>
  <p>自动匹配 6–8 位字母数字串（含字母）</p>
  <pre id="codesOutput"></pre>
</div>

<!-- ======================= URL 结果 ======================= -->
<div class="section">
  <h2>URL 提取（自动去重）</h2>
  <pre id="urlOutput"></pre>
</div>

<script>
function extractAll() {
  const text = document.getElementById("input").value;

  /* ---- 1) 提取 Classroom 班级码 ---- */
  const codeRegex = /\b([A-Za-z0-9]{6,8})\b/g;
  const foundCodes = new Set();
  let m;

  while ((m = codeRegex.exec(text)) !== null) {
    const s = m[1];
    if (/[A-Za-z]/.test(s)) foundCodes.add(s.toLowerCase());
  }

  document.getElementById("codesOutput").textContent =
    [...foundCodes].join("\n") || "（未找到）";

  /* ---- 2) 提取 URL（自动去重） ---- */
  const urlRegex = /(https?:\/\/[\w.-]+(?:\/[\w\-._~:/?#[\]@!$&'()*+,;=%]*)?)/gi;
  const urls = text.match(urlRegex) || [];
  const uniqueUrls = [...new Set(urls)];

  document.getElementById("urlOutput").textContent =
    uniqueUrls.join("\n") || "（未找到）";
}

function clearInput() {
  document.getElementById("input").value = "";
}
</script>

</body>
</html>
